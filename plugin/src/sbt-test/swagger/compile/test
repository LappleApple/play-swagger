# Project is clean, nothing is here

- $ exists app/controllers/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/controllers_base/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/model/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/validators/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/tests/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/generators/echo.api.yaml.scala

# The controller generation must be triggered explicitly
> swaggerCompileControllers

# only single controller was generated

$ exists app/controllers/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/controllers_base/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/model/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/main/validators/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/tests/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/generators/echo.api.yaml.scala

# Successfully compiles after controllers have being generated
> compile

# no test data exists yet
$ exists app/controllers/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/model/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/validators/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/controllers_base/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/tests/echo.api.yaml.scala
- $ exists target/scala-2.11/routes/test/generators/echo.api.yaml.scala

# Tests should fail with 404 because there is no mapping in routes file
-> test

# now everything must be present
$ exists target/scala-2.11/routes/test/tests/echo.api.yaml.scala
$ exists target/scala-2.11/routes/test/generators/echo.api.yaml.scala
$ exists app/controllers/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/controllers_base/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/model/echo.api.yaml.scala
$ exists target/scala-2.11/routes/main/validators/echo.api.yaml.scala

# we don't check what is created by the play's routes compiler because its outside of our control

